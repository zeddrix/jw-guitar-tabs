import{S as V,i as W,s as B,ao as ee,e as C,t as E,k as J,w as j,c as I,a as M,h as A,m as D,x as H,d as _,b as p,g as d,V as T,y as L,q as k,o as $,B as N,F as b,aa as G,a2 as te,ap as K,l as O,j as re,n as z,p as Q,$ as se,a0 as oe,W as ae}from"./vendor-3246f839.js";import{n as q,p as R,l as le,c as ne,o as ie,k as ce}from"./helperFunctions-d39dba89.js";import{a as U}from"./MetaHead-e99e50b4.js";import{H as fe,r as ue,a as me}from"./HeartTooltip-92289b19.js";import{b as P}from"./paths-4b3c6e7e.js";import{L as ge}from"./LoaderScreen-7dbf4032.js";function _e(i){let e,s,o,n,a,l,t;return n=new fe({props:{remove:i[0]}}),{c(){e=C("img"),o=J(),j(n.$$.fragment),this.h()},l(r){e=I(r,"IMG",{src:!0,width:!0,alt:!0,class:!0}),o=D(r),H(n.$$.fragment,r),this.h()},h(){G(e.src,s=`${P}/img/hearts/red-heart${i[0]?"":"-outline"}.svg`)||p(e,"src",s),p(e,"width","30px"),p(e,"alt","heart"),p(e,"class","heart-img")},m(r,c){d(r,e,c),d(r,o,c),L(n,r,c),a=!0,l||(t=te(e,"click",i[3]),l=!0)},p(r,c){(!a||c&1&&!G(e.src,s=`${P}/img/hearts/red-heart${r[0]?"":"-outline"}.svg`))&&p(e,"src",s);const m={};c&1&&(m.remove=r[0]),n.$set(m)},i(r){a||(k(n.$$.fragment,r),a=!0)},o(r){$(n.$$.fragment,r),a=!1},d(r){r&&_(e),r&&_(o),N(n,r),l=!1,t()}}}function he(i){let e,s,o,n,a;return n=new ee({props:{rich:!0,$$slots:{default:[_e]},$$scope:{ctx:i}}}),{c(){e=C("a"),s=E(i[1]),o=J(),j(n.$$.fragment),this.h()},l(l){e=I(l,"A",{href:!0,class:!0});var t=M(e);s=A(t,i[1]),o=D(t),H(n.$$.fragment,t),t.forEach(_),this.h()},h(){p(e,"href",`${P}${i[2]}`),p(e,"class","title-item")},m(l,t){d(l,e,t),T(e,s),T(e,o),L(n,e,null),a=!0},p(l,[t]){const r={};t&65537&&(r.$$scope={dirty:t,ctx:l}),n.$set(r)},i(l){a||(k(n.$$.fragment,l),a=!0)},o(l){$(n.$$.fragment,l),a=!1},d(l){l&&_(e),N(n)}}}function pe(i,e,s){let o,n;b(i,q,g=>s(5,o=g)),b(i,R,g=>s(6,n=g));let{song:a}=e;const{title:l,officialurl:t,category:r,num:c}=a,m=r==="kingdom",y=m?"Kingdom Songs":r==="original"?"Original Songs":"Children's Songs",f=m?`Song ${c}: ${l}`:l,u=le(r,c,t),v=JSON.parse(localStorage.getItem("favorites"));v&&q.set(v);let F=o.find(g=>g.link===u);const Z=g=>{const S=o.find(w=>w.link===g.link);S?K(q,o=o.map(w=>w.link===S.link?g:w),o):(K(R,n=!0,n),o.push(g))},x=g=>{g.preventDefault(),F?(q.set(o.filter(S=>S.link!==u)),ue(),localStorage.setItem("favorites",JSON.stringify(o))):(Z({title:f,category:y,link:u}),me(),localStorage.setItem("favorites",JSON.stringify(o))),s(0,F=!F)};return i.$$set=g=>{"song"in g&&s(4,a=g.song)},[F,f,u,x,a]}class de extends V{constructor(e){super();W(this,e,pe,he,B,{song:4})}}function X(i,e,s){const o=i.slice();return o[7]=e[s],o}function ke(i){let e,s=[],o=new Map,n,a=i[1];const l=t=>t[7].num+t[7].officialurl;for(let t=0;t<a.length;t+=1){let r=X(i,a,t),c=l(r);o.set(c,s[t]=Y(c,r))}return{c(){e=C("div");for(let t=0;t<s.length;t+=1)s[t].c();this.h()},l(t){e=I(t,"DIV",{class:!0});var r=M(e);for(let c=0;c<s.length;c+=1)s[c].l(r);r.forEach(_),this.h()},h(){p(e,"class","ui celled list")},m(t,r){d(t,e,r);for(let c=0;c<s.length;c+=1)s[c].m(e,null);n=!0},p(t,r){r&2&&(a=t[1],z(),s=se(s,r,l,1,t,a,o,e,oe,Y,null,X),Q())},i(t){if(!n){for(let r=0;r<a.length;r+=1)k(s[r]);n=!0}},o(t){for(let r=0;r<s.length;r+=1)$(s[r]);n=!1},d(t){t&&_(e);for(let r=0;r<s.length;r+=1)s[r].d()}}}function $e(i){let e,s;return e=new ge({}),{c(){j(e.$$.fragment)},l(o){H(e.$$.fragment,o)},m(o,n){L(e,o,n),s=!0},p:ae,i(o){s||(k(e.$$.fragment,o),s=!0)},o(o){$(e.$$.fragment,o),s=!1},d(o){N(e,o)}}}function Y(i,e){let s,o,n;return o=new de({props:{song:e[7]}}),{key:i,first:null,c(){s=O(),j(o.$$.fragment),this.h()},l(a){s=O(),H(o.$$.fragment,a),this.h()},h(){this.first=s},m(a,l){d(a,s,l),L(o,a,l),n=!0},p(a,l){e=a;const t={};l&2&&(t.song=e[7]),o.$set(t)},i(a){n||(k(o.$$.fragment,a),n=!0)},o(a){$(o.$$.fragment,a),n=!1},d(a){a&&_(s),N(o,a)}}}function ve(i){let e,s=U(i[0])+"",o,n,a,l,t,r,c;const m=[$e,ke],h=[];function y(f,u){return f[1].length===0?0:1}return l=y(i),t=h[l]=m[l](i),{c(){e=C("h1"),o=E(s),n=E(" Songs"),a=J(),t.c(),r=O(),this.h()},l(f){e=I(f,"H1",{class:!0});var u=M(e);o=A(u,s),n=A(u," Songs"),u.forEach(_),a=D(f),t.l(f),r=O(),this.h()},h(){p(e,"class","svelte-m9c91y")},m(f,u){d(f,e,u),T(e,o),T(e,n),d(f,a,u),h[l].m(f,u),d(f,r,u),c=!0},p(f,[u]){(!c||u&1)&&s!==(s=U(f[0])+"")&&re(o,s);let v=l;l=y(f),l===v?h[l].p(f,u):(z(),$(h[v],1,1,()=>{h[v]=null}),Q(),t=h[l],t?t.p(f,u):(t=h[l]=m[l](f),t.c()),k(t,1),t.m(r.parentNode,r))},i(f){c||(k(t),c=!0)},o(f){$(t),c=!1},d(f){f&&_(e),f&&_(a),h[l].d(f),f&&_(r)}}}function Se(i,e,s){let o,n,a,l;b(i,ne,m=>s(2,n=m)),b(i,ie,m=>s(3,a=m)),b(i,ce,m=>s(4,l=m));let{category:t}=e;const r=t==="kingdom",c=t==="original";return i.$$set=m=>{"category"in m&&s(0,t=m.category)},i.$$.update=()=>{i.$$.dirty&28&&s(1,o=r?l:c?a:n)},[t,o,n,a,l]}class Ie extends V{constructor(e){super();W(this,e,Se,ve,B,{category:0})}}export{Ie as C};
